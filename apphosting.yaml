# Settings for Cloud Run
runConfig:
  minInstances: 2
  maxInstances: 100
  concurrency: 100
  cpu: 2
  memoryMiB: 1024

# Environment variables and secrets
env:
  - variable: NEXT_PUBLIC_GHOST_URL
    value: "https://ghost.joy.so"
    availability:
      - BUILD
      - RUNTIME

  - variable: NEXT_PUBLIC_GHOST_CONTENT_API_KEY
    secret: GHOST_CONTENT_API_KEY
    availability:
      - BUILD
      - RUNTIME

  - variable: NEXT_PUBLIC_STRAPI_URL
    value: "https://strapi.joy.so"
    availability:
      - BUILD
      - RUNTIME

  - variable: NEXT_STRAPI_API_KEY
    secret: STRAPI_API_KEY
    availability:
      - BUILD
      - RUNTIME